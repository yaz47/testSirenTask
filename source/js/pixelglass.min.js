function t(){"use strict";var d=document;var y;var t;var b="controls-panel";var g=[];var e="pg";var a=["none","invert"];var r=["off","on"];var x={state:m("state",r[1]),filter:m("filter",a[0]),opacity:m("opacity",.5)};var n={state:{t:d.documentElement,i:"data"},filter:{t:d.body,i:"data"},opacity:{t:d.body,i:"style"}};var i={o:"button",u:"on",v:"states",l:"state",target:n.state,type:"button",list:r,s:true,p:{m:1}};var o={o:"button",u:"invert",v:"filters",l:"filter",target:n.filter,type:"button",list:a,p:{m:2}};var f={l:"opacity",type:"number",target:n.opacity,g:"style",p:{min:0,max:1,step:.1,m:3}};u();function u(){v();k();if(x.state==="on"){C()}}function v(){var t=d.documentElement;if(A(d.body,"has-sticky-point")){var a=d.querySelector(".sticky-point");if(a&&!localStorage["_"]){t=a}x.state="off"}y=d.createElement("div");y.classList.add(b);t.appendChild(y);var r=["top","right","bottom","left"];r.forEach(function(t){var a=m(t,"");if(a){y.style[t]=a}});l()}function l(){s(i);s(o);c(f);p()}function s(t){var a=t.v;var r=t.l;var n=t.o;var e=t.u;var i=t.type;var o=t.list;var f=t.action;var u=x[r];var v=t.p;var l=o.indexOf(u);var s=t.s;var c=r;var p=d.createElement(n);D(p,[b+"__control",b+"__control--"+i]);p.setAttribute("type",i);p.setAttribute("id",c);j(p,"state-num",l);if(v){for(var m in v){p.setAttribute(m,v[m])}}if(n==="button"){p.innerHTML=e}if(!s){g.push(p)}y.appendChild(p);p.onclick=function(){if(!t.target){return}l=+!l;u=o[l];j(p,"state-num",l);j(t.target.t,r,u);S(r,u);if(s&&s===true){if(u==="off"){w();_()}else{C();h()}}}}function c(t){var a=t.l;var r=t.p;var n=t.type;var e=t.g;var i=t.s;var o=a;var f=d.createElement("input");D(f,[b+"__control",b+"__control--"+n]);f.setAttribute("type",n);f.setAttribute("id",o);for(var u in r){f.setAttribute(u,r[u])}f.setAttribute("value",x[a]);if(!i){g.push(f)}y.appendChild(f);f.oninput=function(){if(e==="style"){t.target.t.style[a]=this.value;S(a,this.value)}}}function p(){var t=d.createElement("button");D(t,[b+"__control",b+"__control--drag-n-drop"]);t.setAttribute("type","button");t.innerHTML=" ";y.appendChild(t);t.onmousedown=function(){var t=this.offsetTop;var n=y.clientWidth-this.clientWidth;var a=getComputedStyle(y);y.style.top=a.top;y.style.left=a.left;y.style.right="auto";y.style.bottom="auto";d.onmousemove=function(t){var a=t.clientX-n+"px";var r=t.clientY+"px";y.style.left=a;y.style.top=r}};t.onmouseup=function(){var t=getComputedStyle(y);var a=+t.left.replace(/px/,"");var r=+t.right.replace(/px/,"");var n=+t.top.replace(/px/,"");var e=+t.bottom.replace(/px/,"");if(a>r){S("left","auto");S("right",t.right);y.style.right=t.right;y.style.left="auto"}else{S("left",t.left);S("right","auto")}if(n>e){S("top","auto");S("bottom",t.bottom);y.style.bottom=t.bottom;y.style.top="auto"}else{S("top",t.top);S("bottom","auto")}d.onmousemove=null}}function _(){g.forEach(function(t){t.setAttribute("disabled","")})}function h(){g.forEach(function(t){t.removeAttribute("disabled")})}function m(t,a){var r=[e,t].join("-");var n=localStorage[r];return n?n:a}function S(t,a){var r=[e,t].join("-");localStorage[r]=a}function N(){var t=getComputedStyle(d.body).opacity;return+t}function T(){var t=d.createElement("style");var a=d.createElement("link");a.setAttribute("rel","stylesheet");a.setAttribute("href","../pixel-glass-js/styles.css");d.head.appendChild(a)}function k(){for(var t in n){var a=n[t];var r=x[t];if(a.i==="data"){j(a.t,t,r)}}if(x.state==="off"){_()}}function C(){for(var t in n){var a=n[t];var r=x[t];if(a.i==="style"){a.t.style[t]=r}}}function w(){for(var t in n){var a=n[t];if(a.i==="style"){a.t.style[t]=""}}}function A(t,a){if(!t){return false}a="data-"+a;if(t.getAttribute(a)!==undefined&&t.getAttribute(a)!==null){return true}return false}function j(t,a,r){if(!t){return}a="data-"+a;t.setAttribute(a,r)}function D(a,t){if(!a){return}if(t.length>0){t.forEach(function(t){a.classList.add(t)})}}}window.onload=function(){t()};
